<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VIRA MALL | Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„ÙØ®Ø§Ù…Ø© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</title>

    <meta name="description" content="VIRA MALL - Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø±Ø§Ø¦Ø¯Ø© Ù„Ù„ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©. ØªØ³ÙˆÙ‚ÙŠ Ø£ÙØ®Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù†Ø¶Ù…ÙŠ ÙƒØªØ§Ø¬Ø± ÙÙŠ Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØªÙ†Ø§.">
    <meta name="keywords" content="ÙÙŠØ±Ø§ Ù…ÙˆÙ„, Vira Mall, ØªØ³ÙˆÙ‚ Ø§Ù„Ø³ÙˆØ¯Ø§Ù†, Ø¨Ø®ÙˆØ± Ø±ÙŠÙ†Ø§Ø³, ØªØ¬Ø§Ø±Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©, Ø³ÙˆÙ‚ Ø§Ù„Ø®Ù„ÙŠØ¬">
    <meta name="theme-color" content="#000000">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="icon" href="https://raw.githubusercontent.com/71-wq/71-wq.github.io/main/vira_logo.png">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/71-wq/71-wq.github.io/main/vira_logo.png">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700&display=swap');

        :root {
            --gold: #D4AF37;
            --dark-gold: #B8860B;
            --black: #000000;
            --dark-grey: #121212;
            --glass: rgba(255, 255, 255, 0.05);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0;
            background-color: var(--black);
            color: #ffffff;
            font-family: 'Cairo', sans-serif;
            overflow-x: hidden;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        header {
            background: linear-gradient(180deg, #1a1a1a 0%, #000 100%);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid var(--gold);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .main-logo { width: 100px; filter: drop-shadow(0 0 8px var(--gold)); transition: 0.5s; }
        .main-logo:hover { transform: rotateY(360deg); }

        /* Ø¨Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª */
        .currency-bar {
            display: flex;
            background: #080808;
            padding: 10px;
            gap: 10px;
            overflow-x: auto;
            border-bottom: 1px solid #222;
            scrollbar-width: none;
        }
        .currency-bar::-webkit-scrollbar { display: none; }
        .currency-bar button {
            background: var(--glass);
            border: 1px solid var(--gold);
            color: var(--gold);
            padding: 6px 15px;
            border-radius: 20px;
            white-space: nowrap;
            cursor: pointer;
            font-size: 13px;
        }
        .currency-bar button.active { background: var(--gold); color: black; font-weight: bold; }

        /* Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ */
        .slider-container {
            width: 100%;
            height: 200px;
            background: #111;
            position: relative;
            overflow: hidden;
        }
        .slider-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            animation: zoomInOut 10s infinite alternate;
        }
        @keyframes zoomInOut { from { transform: scale(1); } to { transform: scale(1.1); } }

        /* Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªØ§Ø¬Ø± */
        .merchant-card {
            margin: 20px;
            padding: 20px;
            background: linear-gradient(145deg, #1a1a1a, #000);
            border-radius: 15px;
            border: 1px solid var(--gold);
            text-align: center;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2);
        }
        .bank-box {
            background: #000;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border: 1px dashed var(--gold);
            color: var(--gold);
            font-size: 18px;
            font-weight: bold;
        }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 15px;
        }
        .product-card {
            background: var(--dark-grey);
            border-radius: 12px;
            border: 0.5px solid #333;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .product-card img {
            width: 100%;
            height: 160px;
            object-fit: cover;
            cursor: zoom-in;
        }
        .p-info { padding: 12px; text-align: center; }
        .p-title { font-size: 14px; margin-bottom: 8px; height: 40px; overflow: hidden; }
        .p-price { color: var(--gold); font-size: 18px; font-weight: bold; }
        .shipping-tag { color: #00ff00; font-size: 10px; margin-top: 5px; }

        /* Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¹Ø§Ø¦Ù…Ø© */
        .cart-float {
            position: fixed;
            bottom: 30px;
            left: 20px;
            background: var(--gold);
            color: black;
            width: 65px;
            height: 65px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 5px 20px rgba(212, 175, 55, 0.5);
            z-index: 2000;
            cursor: pointer;
        }
        .cart-count {
            position: absolute;
            top: 0;
            right: 0;
            background: red;
            color: white;
            border-radius: 50%;
            padding: 2px 8px;
            font-size: 12px;
        }

        /* Ø§Ù„ÙÙˆØªØ± */
        footer {
            background: #080808;
            padding: 30px;
            text-align: center;
            border-top: 1px solid #222;
        }

        /* Ø²Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© */
        .add-btn {
            background: var(--gold);
            border: none;
            color: black;
            padding: 8px;
            border-radius: 5px;
            width: 100%;
            margin-top: 10px;
            font-weight: bold;
            cursor: pointer;
        }
    </style>
</head>
<body>

<header>
    <img src="https://raw.githubusercontent.com/71-wq/71-wq.github.io/main/vira_logo.png" class="main-logo" alt="VIRA MALL">
    <div style="font-size: 12px; color: var(--gold); letter-spacing: 3px;">VIRA MALL</div>
</header>

<div class="currency-bar" id="currencyBar">
    <button class="active" onclick="setCurrency(1, 'SDG', this)">Ø§Ù„Ø³ÙˆØ¯Ø§Ù† ğŸ‡¸ğŸ‡©</button>
    <button onclick="setCurrency(0.0022, 'SAR', this)">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ğŸ‡¸ğŸ‡¦</button>
    <button onclick="setCurrency(0.082, 'EGP', this)">Ù…ØµØ± ğŸ‡ªğŸ‡¬</button>
    <button onclick="setCurrency(0.0021, 'QAR', this)">Ù‚Ø·Ø± ğŸ‡¶ğŸ‡¦</button>
    <button onclick="setCurrency(0.00022, 'OMR', this)">Ø¹Ù…Ø§Ù† ğŸ‡´ğŸ‡²</button>
</div>

<div class="slider-container">
    <img src="https://raw.githubusercontent.com/71-wq/71-wq.github.io/main/banner.jpg" alt="Vira Mall Elite">
</div>

<div class="merchant-card">
    <h2 style="color:var(--gold); margin:0;">ğŸ‘‘ Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªØ§Ø¬Ø±Ø§Øª</h2>
    <p style="font-size: 13px;">Ø§Ø´ØªØ±ÙƒÙŠ Ø§Ù„Ø¢Ù† ÙÙŠ Ø£Ù‚ÙˆÙ‰ Ù†Ø¸Ø§Ù… ØªØ­ÙˆÙŠÙ„ Ø±Ù‚Ù…ÙŠ</p>
    <div class="bank-box">
        Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ù†ÙƒÙŠ: 2280384<br>
        <span style="font-size: 12px;">(Ø¨Ù†ÙƒÙƒ - Ø¨Ù†Ùƒ Ø§Ù„Ø®Ø±Ø·ÙˆÙ…)</span>
    </div>
    <a href="https://wa.me/249967584275?text=Ø§Ø±ÙŠØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ ÙÙŠØ±Ø§ Ù…ÙˆÙ„ ÙƒØªØ§Ø¬Ø±" 
       style="display:inline-block; background:var(--gold); color:black; padding:10px 25px; border-radius:8px; text-decoration:none; font-weight:bold;">
       Ø£Ø±Ø³Ù„ÙŠ Ø¥ÙŠØµØ§Ù„ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ğŸ“±
    </a>
</div>

<div class="products-grid" id="products">
    </div>

<div class="cart-float" onclick="sendToWhatsApp()">
    ğŸ›’ <span class="cart-count" id="cartCount">0</span>
</div>

<footer>
    <p>Â© 2024 VIRA MALL - Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„ÙØ®Ø§Ù…Ø©</p>
    <p style="font-size: 10px; color: #555;">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø¥ÙŠØ«Ø§Ø± - VIRA MALL Digital Team</p>
</footer>

<script>
    let cart = [];
    let currentRate = 1;
    let currentCurrency = 'SDG';

    // Ø±Ø§Ø¨Ø· Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø´ÙŠØª Ø­Ù‚Ùƒ
    const SHEET_ID = '1UZnlp45dVMRJxNibcg3fm52H6S4DB4YbGLr4KK3jPqs';
    const SHEET_URL = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json`;

    async function fetchProducts() {
        try {
            const response = await fetch(SHEET_URL);
            const text = await response.text();
            const json = JSON.parse(text.substr(47).slice(0, -2));
            const rows = json.table.rows;
            
            const productsContainer = document.getElementById('products');
            productsContainer.innerHTML = '';

            rows.forEach((row, index) => {
                const name = row.c[0] ? row.c[0].v : 'Ù…Ù†ØªØ¬ ÙÙŠØ±Ø§';
                const price = row.c[1] ? row.c[1].v : 0;
                const img = row.c[3] ? row.c[3].v : 'https://via.placeholder.com/300x300?text=VIRA+MALL';

                productsContainer.innerHTML += `
                    <div class="product-card">
                        <img src="${img}" alt="${name}" onclick="window.open(this.src)">
                        <div class="p-info">
                            <div class="p-title">${name}</div>
                            <div class="p-price">${(price * currentRate).toLocaleString()} ${currentCurrency}</div>
                            <div class="shipping-info">ğŸšš ØªÙˆØµÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØ¬Ø±</div>
                            <button class="add-btn" onclick="addToCart('${name}', ${price})">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
                        </div>
                    </div>
                `;
            });
        } catch (error) {
            console.error("Error loading products");
        }
    }

    function setCurrency(rate, name, btn) {
        currentRate = rate;
        currentCurrency = name;
        document.querySelectorAll('.currency-bar button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        fetchProducts(); // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
    }

    function addToCart(name, price) {
        cart.push({name, price: (price * currentRate).toLocaleString() + " " + currentCurrency});
        document.getElementById('cartCount').innerText = cart.length;
        alert("Ø£Ø¨Ø´Ø±ÙŠ! " + name + " Ø§Ù†Ø¶Ù… Ù„Ù„Ø³Ù„Ø© âœ¨");
    }

    function sendToWhatsApp() {
        if (cart.length === 0) {
            alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø¶ÙŠØ© ÙŠØ§ Ù…Ù„ÙƒØ©!");
            return;
        }
        let message = "Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† VIRA MALL ğŸ‘‘%0A%0A";
        cart.forEach((item, i) => {
            message += `${i+1}. ${item.name} - ${item.price}%0A`;
        });
        message += `%0AØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${cart.length} Ù…Ù†ØªØ¬Ø§Øª`;
        window.location.href = `https://wa.me/249967584275?text=${message}`;
    }

    // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    window.onload = fetchProducts;

    // ÙƒÙˆØ¯ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„ØªØ·Ø¨ÙŠÙ‚ (PWA)
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js').catch(() => {});
    }
</script>

</body>
</html>
