<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VIRA MALL | ÙÙŠØ±Ø§ Ù…ÙˆÙ„ - Ø®ÙŠØ§Ø±Ùƒ Ø§Ù„Ø£ÙˆÙ„</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* --- 1. Ø§Ù„Ù€ CSS ÙˆØ§Ù„Ø¬Ù…Ø§Ù„ÙŠØ© (Architecture) --- */
        :root {
            --gold: #D4AF37;
            --black: #0a0a0a;
            --deep-black: #000000;
            --white: #ffffff;
            --soft-white: #f8f9fa;
            --accent-pink: #ff2d55;
            --glass: rgba(255, 255, 255, 0.9);
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            margin: 0; padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--soft-white);
            color: var(--black);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„ÙØ®Ù… --- */
        header {
            background: var(--black);
            padding: 15px 20px;
            position: sticky;
            top: 0; z-index: 5000;
            box-shadow: 0 4px 25px rgba(0,0,0,0.5);
        }

        .header-top { display: flex; justify-content: space-between; align-items: center; }
        .logo-section { text-align: center; flex-grow: 1; }
        .logo-section h1 { 
            color: var(--gold); margin: 0; font-size: 26px; font-weight: 900; 
            letter-spacing: 2px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .slogan { color: var(--white); font-size: 11px; font-weight: 300; letter-spacing: 1.5px; opacity: 0.9; }

        .icon-btn { color: var(--gold); font-size: 24px; cursor: pointer; position: relative; transition: 0.3s; }
        .icon-btn:active { transform: scale(0.8); }

        .cart-count {
            position: absolute; top: -8px; right: -12px;
            background: var(--accent-pink); color: white;
            font-size: 10px; width: 20px; height: 20px; 
            border-radius: 50%; display: flex; align-items: center; 
            justify-content: center; font-weight: bold; display: none;
            border: 2px solid var(--black);
        }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªØ·ÙˆØ± --- */
        .search-area { background: var(--white); padding: 15px; border-bottom: 1px solid #eee; }
        .search-bar {
            background: #f1f1f1; border-radius: 30px; padding: 10px 20px;
            display: flex; align-items: center; gap: 12px; transition: 0.3s;
            border: 1px solid transparent;
        }
        .search-bar:focus-within { background: #fff; border-color: var(--gold); box-shadow: var(--shadow); }
        .search-bar input { border: none; background: transparent; width: 100%; outline: none; font-size: 15px; }

        /* --- Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (Ø´ÙŠ Ø¥Ù† Ø³ØªØ§ÙŠÙ„) --- */
        .categories-container {
            display: flex; gap: 15px; padding: 15px; overflow-x: auto;
            background: white; white-space: nowrap; scrollbar-width: none;
        }
        .categories-container::-webkit-scrollbar { display: none; }
        .cat-card {
            padding: 10px 25px; background: #f8f8f8; border-radius: 25px;
            font-size: 13px; font-weight: bold; color: #666; transition: 0.3s;
            border: 1px solid #eee; cursor: pointer;
        }
        .cat-card.active { background: var(--black); color: var(--gold); border-color: var(--black); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

        /* --- Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ© --- */
        .main-grid {
            display: grid; grid-template-columns: repeat(2, 1fr);
            gap: 15px; padding: 15px;
        }
        
        .product-card {
            background: var(--white); border-radius: 20px; overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05); position: relative;
            display: flex; flex-direction: column; border: 1px solid #f1f1f1;
            transition: 0.3s;
        }

        .img-viewport {
            position: relative; width: 100%; aspect-ratio: 3/4.5;
            overflow: hidden; background: #efefef;
        }
        .img-track { display: flex; height: 100%; transition: transform 0.5s cubic-bezier(0.2, 1, 0.3, 1); }
        .img-track img { min-width: 100%; width: 100%; height: 100%; object-fit: cover; }

        /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± Ù„ÙŠØ¸Ù‡Ø± 1/2/3 */
        .slide-counter {
            position: absolute; bottom: 12px; right: 12px;
            background: rgba(0,0,0,0.6); color: #fff;
            padding: 3px 10px; border-radius: 12px; font-size: 10px;
            font-family: monospace; z-index: 10;
        }

        .fav-heart {
            position: absolute; top: 12px; left: 12px;
            color: rgba(255,255,255,0.9); font-size: 24px;
            z-index: 10; cursor: pointer; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }
        .fav-heart.active { color: var(--accent-pink); }

        .p-details { padding: 15px 10px; text-align: center; }
        .p-name { font-size: 13px; color: #333; height: 36px; overflow: hidden; margin-bottom: 8px; font-weight: 500; }
        .p-price { font-size: 18px; font-weight: 900; color: var(--black); margin-bottom: 12px; }

        .btn-action {
            background: var(--black); color: white; border: none;
            width: 100%; padding: 12px; border-radius: 12px;
            font-size: 12px; font-weight: bold; cursor: pointer;
            transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        .btn-action:active { transform: scale(0.95); background: var(--gold); color: var(--black); }

        /* --- Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (The Panels) --- */
        .panel {
            position: fixed; top: 0; right: -100%; width: 90%; max-width: 400px;
            height: 100%; background: #fff; z-index: 6000;
            transition: right 0.5s cubic-bezier(0.77, 0, 0.175, 1);
            padding: 30px 20px; display: flex; flex-direction: column;
            box-shadow: -15px 0 40px rgba(0,0,0,0.2);
        }
        .panel.open { right: 0; }
        .glass-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7); z-index: 5500; display: none;
            backdrop-filter: blur(5px); animation: fadeIn 0.3s forwards;
        }

        /* --- Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªØ§Ø¬Ø±Ø§Øª Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© --- */
        .merchant-portal {
            background: #fff9e3; border: 2px dashed var(--gold);
            border-radius: 20px; padding: 20px; margin-top: 20px;
            text-align: center;
        }
        .input-group { margin-bottom: 15px; text-align: right; }
        .input-group label { display: block; font-size: 12px; font-weight: bold; margin-bottom: 5px; }
        .input-group input, .input-group select {
            width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 10px; outline: none;
        }

        /* --- Ø§Ù„ÙÙˆØªØ± ÙˆØ§Ù„Ø³Ù„Ø© --- */
        .cart-footer {
            margin-top: auto; border-top: 1px solid #eee; padding-top: 20px;
        }
        .total-row { display: flex; justify-content: space-between; font-size: 18px; font-weight: 900; margin-bottom: 20px; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div class="glass-overlay" id="overlay" onclick="closeAll()"></div>

    <header>
        <div class="header-top">
            <div class="icon-btn" onclick="openPanel('sideMenu')"><i class="fa-solid fa-bars-staggered"></i></div>
            <div class="logo-section">
                <h1>VIRA MALL</h1>
                <span class="slogan">Ø®ÙŠØ§Ø±Ùƒ Ø§Ù„Ø£ÙˆÙ„ ÙÙŠ Ø§Ù„Ø³ÙˆØ¯Ø§Ù†</span>
            </div>
            <div class="icon-btn" onclick="openPanel('cartMenu')">
                <i class="fa-solid fa-bag-shopping"></i>
                <span id="badgeCount" class="cart-count">0</span>
            </div>
        </div>
    </header>

    <div class="search-area">
        <div class="search-bar">
            <i class="fa-solid fa-magnifying-glass" style="color:#aaa;"></i>
            <input type="text" id="searchInp" placeholder="Ø§Ø¨Ø­Ø«ÙŠ Ø¹Ù† Ø§Ù„Ø£Ø·ÙØ§Ù„ØŒ Ø§Ù„Ù†ÙˆÙ…ØŒ Ø§Ù„Ø¹Ø¨Ø§ÙŠØ§Øª..." oninput="realTimeSearch(this.value)">
        </div>
    </div>

    <div class="categories-container" id="catsList">
        <div class="cat-card active" onclick="filterData('Ø§Ù„ÙƒÙ„', this)">Ø§Ù„ÙƒÙ„</div>
        <div class="cat-card" onclick="filterData('Ø£Ø·ÙØ§Ù„', this)">Ù…Ù„Ø§Ø¨Ø³ Ø£Ø·ÙØ§Ù„</div>
        <div class="cat-card" onclick="filterData('Ù†ÙˆÙ…', this)">Ù…Ù„Ø§Ø¨Ø³ Ù†ÙˆÙ…</div>
        <div class="cat-card" onclick="filterData('Ø¹Ø¨Ø§ÙŠØ§Øª', this)">Ø¹Ø¨Ø§ÙŠØ§Øª</div>
        <div class="cat-card" onclick="filterData('Ø´Ù†Ø·', this)">Ø´Ù†Ø· ÙˆØ¬Ø²Ù…</div>
    </div>

    <div class="main-grid" id="productsGrid">
        <p style="grid-column: 1/-1; text-align:center; padding:100px;">ÙŠØªÙ… Ø§Ù„Ø¢Ù† ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø£Ù†Ø§Ù‚Ø©... âœ¨</p>
    </div>

    <div class="panel" id="cartMenu">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h2>Ø­Ù‚ÙŠØ¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ğŸ›ï¸</h2>
            <span onclick="closeAll()" style="font-size:24px; cursor:pointer;">âœ•</span>
        </div>
        <div id="cartListItems" style="flex-grow:1; overflow-y:auto; margin-top:20px;">
            </div>
        <div class="cart-footer">
            <div class="total-row">
                <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                <span id="grandTotal">0 SDG</span>
            </div>
            <p style="font-size:11px; color:#888; text-align:center;">* Ø§Ù„ØªÙˆØµÙŠÙ„ ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯Ù‡ Ø­Ø³Ø¨ Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</p>
            <button class="btn-action" style="background:var(--gold); color:black; padding:18px;" onclick="checkoutNow()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ âœ…</button>
        </div>
    </div>

    <div class="panel" id="sideMenu">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h2 style="color:var(--gold)">VIRA SETTINGS</h2>
            <span onclick="closeAll()" style="font-size:24px; cursor:pointer;">âœ•</span>
        </div>
        
        <div class="menu-link-item" style="margin-top:20px;">
            <label>ğŸ’° Ø§Ù„Ø¹Ù…Ù„Ø©:</label>
            <select id="currency" onchange="renderUI()" style="width:100%; padding:10px; border-radius:10px;">
                <option value="SDG">SDG (Ø³ÙˆØ¯Ø§Ù†ÙŠ)</option>
                <option value="SAR">SAR (Ø³Ø¹ÙˆØ¯ÙŠ)</option>
                <option value="USD">USD (Ø¯ÙˆÙ„Ø§Ø±)</option>
            </select>
        </div>

        <div class="merchant-portal">
            <h3>ğŸš€ Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªØ§Ø¬Ø±Ø§Øª</h3>
            <p style="font-size:12px;">Ø±Ø³ÙˆÙ… Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ: <b>30,000 SDG</b></p>
            <div class="input-group">
                <label>Ø§Ø³Ù… Ø§Ù„ØªØ§Ø¬Ø±Ø© / Ø§Ù„Ù…ØªØ¬Ø±</label>
                <input type="text" id="mStore" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø¨ÙˆØªÙŠÙƒ Ø§Ù„Ø£Ù†Ø§Ù‚Ø©">
            </div>
            <div class="input-group">
                <label>ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„ØªØ§Ø¬Ø±Ø©</label>
                <input type="text" id="mWa" placeholder="00249...">
            </div>
            <button class="btn-action" onclick="syncWithAdmin()">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</button>
        </div>

        <div style="margin-top:auto; text-align:center; font-size:13px;">
            <p>Ø±Ù‚Ù… Ø­Ø³Ø§Ø¨ Ø¨Ù†ÙƒÙƒ: <b>2280384</b></p>
            <p>Â© ÙÙŠØ±Ø§ Ù…ÙˆÙ„ - 2026</p>
        </div>
    </div>

    <script>
        // --- Ø§Ù„Ø£Ø³Ø§Ø³ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ (The Engine) ---
        const WA_OWNER = "249967584275";
        // Ø±Ø§Ø¨Ø· Ø§Ù„Ø£Ø¯Ù…Ù† Ù…Ù† Ø¬ÙŠØª Ù‡Ø¨ (ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§)
        const ADMIN_GITHUB_URL = "https://raw.githubusercontent.com/YOUR_USERNAME/YOUR_REPO/main/admin_config.json";
        const GS_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTWD0ZQAKe2KRwLQnNjh2t7Z2Y_BKXxaKZxZwKSXUaZLQ3eeLB1fwj6vNllpNwXCtd9aY9Q_tuuFXXV/pub?gid=0&single=true&output=csv';

        let products = [], cart = [], favorites = [];

        // 1. Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ù…Ø­Ø¯Ø« Ù„ÙŠØ±Ø¨Ø· Ø§Ù„Ø£Ø¯Ù…Ù†)
        async function loadStore() {
            try {
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø¯Ù…Ù† Ø£ÙˆÙ„Ø§Ù‹ Ù…Ù† GitHub Ø¥Ø°Ø§ ØªÙˆÙØ±Øª
                try {
                    const adminRes = await fetch(ADMIN_GITHUB_URL);
                    const adminConfig = await adminRes.json();
                    console.log("Admin Connected:", adminConfig.status);
                } catch(e) { console.log("Direct Mode Active"); }

                const response = await fetch(GS_URL + '&cache=' + Math.random());
                const data = await response.text();
                const rows = data.split('\n').slice(1);
                
                products = rows.map((row, i) => {
                    const c = row.split(/,(?=(?:[^"]*"[^"]*")*[^"]*$)/).map(v => v.replace(/"/g, '').trim());
                    if(!c[0]) return null;
                    return {
                        id: i, name: c[0], price: c[1], store: c[2], 
                        imgs: c[3].split(/\s+/), wa: c[4], cat: c[5] || 'Ø§Ù„ÙƒÙ„'
                    };
                }).filter(p => p);
                renderUI();
            } catch (err) {
                document.getElementById('productsGrid').innerHTML = "ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„.";
            }
        }

        // 2. Ø¹Ø±Ø¶ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (Ù…Ø­Ø¯Ø« Ù„ÙŠØ´Ù…Ù„ ØªØ±Ù‚ÙŠÙ… Ø§Ù„ØµÙˆØ± 1/2/3)
        function renderUI(data = products) {
            const cur = document.getElementById('currency').value;
            const grid = document.getElementById('productsGrid');
            
            grid.innerHTML = data.map(p => {
                const isFav = favorites.includes(p.id);
                return `
                <div class="product-card" id="card-${p.id}" data-idx="0">
                    <div class="img-viewport" ontouchstart="ts(event)" ontouchmove="tm(event, ${p.id})">
                        <i class="fa-heart ${isFav?'fa-solid active':'fa-regular'} fav-heart" onclick="toggleFav(${p.id})"></i>
                        <div class="img-track" style="transform:translateX(0)">
                            ${p.imgs.map(img => `<img src="${img}" loading="lazy">`).join('')}
                        </div>
                        ${p.imgs.length > 1 ? `<div class="slide-counter"><span class="c-idx">1</span>/${p.imgs.length}</div>` : ''}
                    </div>
                    <div class="p-details">
                        <div class="p-name">${p.name}</div>
                        <div class="p-price">${p.price} ${cur}</div>
                        <button class="btn-action" onclick="addToBag(${p.id})">
                            <i class="fa-solid fa-cart-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
                        </button>
                    </div>
                </div>
                `;
            }).join('');
        }

        // 3. Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø­Ø¨ (Slide) - Ù…Ø­Ø¯Ø« Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ø±Ù‚Ø§Ù…
        let x0 = null;
        function ts(e) { x0 = e.touches[0].clientX; }
        function tm(e, id) {
            if(!x0) return;
            let x1 = e.touches[0].clientX;
            let dx = x0 - x1;
            if(Math.abs(dx) > 40) {
                let card = document.getElementById(`card-${id}`);
                let track = card.querySelector('.img-track');
                let count = card.querySelector('.c-idx');
                let idx = parseInt(card.dataset.idx);
                const total = track.children.length;

                if(dx > 0 && idx < total - 1) idx++;
                else if(dx < 0 && idx > 0) idx--;

                card.dataset.idx = idx;
                track.style.transform = `translateX(${idx * 100}%)`;
                if(count) count.innerText = idx + 1; // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ù‚Ù… 1/2/3
                x0 = null;
            }
        }

        // 4. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ù„Ø©
        function addToBag(id) {
            const p = products.find(x => x.id === id);
            cart.push(p);
            updateCartUI();
            openPanel('cartMenu');
        }

        function updateCartUI() {
            const badge = document.getElementById('badgeCount');
            badge.innerText = cart.length;
            badge.style.display = cart.length > 0 ? 'flex' : 'none';
            
            let total = 0;
            document.getElementById('cartListItems').innerHTML = cart.map((item, i) => {
                total += parseInt(item.price.replace(/,/g, ''));
                return `
                <div style="display:flex; gap:12px; margin-bottom:15px; align-items:center; border-bottom:1px solid #eee; padding-bottom:10px;">
                    <img src="${item.imgs[0]}" style="width:60px; height:75px; border-radius:8px; object-fit:cover;">
                    <div style="flex-grow:1;">
                        <div style="font-size:12px; font-weight:bold;">${item.name}</div>
                        <div style="color:var(--gold); font-weight:900;">${item.price}</div>
                    </div>
                    <i class="fa-solid fa-trash-can" style="color:red;" onclick="cart.splice(${i},1);updateCartUI()"></i>
                </div>
                `;
            }).join('');
            document.getElementById('grandTotal').innerText = total.toLocaleString() + " " + document.getElementById('currency').value;
        }

        // 5. Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ§Ù„Ø±Ø¨Ø·
        function syncWithAdmin() {
            const store = document.getElementById('mStore').value;
            const wa = document.getElementById('mWa').value;
            if(!store || !wa) return alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙŠØ§ Ø¹Ø³Ù„");
            
            // Ø¥Ø±Ø³Ø§Ù„ ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„Ø£Ø¯Ù…Ù†
            alert(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ù…ØªØ¬Ø± (${store}) Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù† ÙÙŠ GitHub Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©.. ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„ØªÙØ¹ÙŠÙ„`);
            window.open(`https://wa.me/${WA_OWNER}?text=Ø­Ø§Ø¨Ø© Ø£ÙØ¹Ù„ Ø§Ø´ØªØ±Ø§Ùƒ ØªØ§Ø¬Ø±Ø© Ø¨Ù…ØªØ¬Ø±: ${store}`);
        }

        function toggleFav(id) {
            if(favorites.includes(id)) favorites = favorites.filter(x => x !== id);
            else favorites.push(id);
            renderUI();
        }

        function filterData(cat, btn) {
            document.querySelectorAll('.cat-card').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            renderUI(cat === 'Ø§Ù„ÙƒÙ„' ? products : products.filter(p => p.cat.includes(cat) || p.name.includes(cat)));
        }

        function realTimeSearch(q) {
            renderUI(products.filter(p => p.name.toLowerCase().includes(q.toLowerCase())));
        }

        function checkoutNow() {
            if(cart.length === 0) return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© ÙŠØ§ Ø±ÙˆØ­ÙŠ!");
            let msg = `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† VIRA MALL ğŸ›ï¸\n\n`;
            cart.forEach(item => msg += `â€¢ ${item.name} - ${item.price}\n`);
            msg += `\nØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ù„Øº: ${document.getElementById('grandTotal').innerText}\nØ§Ù„ØªÙˆØµÙŠÙ„: Ù…Ø·Ù„ÙˆØ¨`;
            window.open(`https://wa.me/${WA_OWNER}?text=${encodeURIComponent(msg)}`);
        }

        function openPanel(id) { document.getElementById(id).classList.add('open'); document.getElementById('overlay').style.display = 'block'; }
        function closeAll() { document.querySelectorAll('.panel').forEach(p => p.classList.remove('open')); document.getElementById('overlay').style.display = 'none'; }

        loadStore();
    </script>
</body>
</html>
