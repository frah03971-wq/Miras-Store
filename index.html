<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VIRA MALL | ÙÙŠØ±Ø§ Ù…ÙˆÙ„</title>

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/71-wq/71-wq.github.io/main/vira_logo.png">
    <link rel="icon" href="https://raw.githubusercontent.com/71-wq/71-wq.github.io/main/vira_logo.png">

    <meta name="description" content="VIRA MALL - Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„ÙØ®Ø§Ù…Ø© ÙˆØ§Ù„Ø¨Ø®ÙˆØ± Ø§Ù„Ù…Ù„ÙƒÙŠ. ØªØ³ÙˆÙ‚ÙŠ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† ÙˆØ§Ø³ØªÙ…ØªØ¹ÙŠ Ø¨ØªØ¬Ø±Ø¨Ø© ØªØ·Ø¨ÙŠÙ‚ ÙØ±ÙŠØ¯Ø©.">
    <meta name="keywords" content="ÙÙŠØ±Ø§ Ù…ÙˆÙ„, Ø¨Ø®ÙˆØ± Ø±ÙŠÙ†Ø§Ø³, ØªØ³ÙˆÙ‚ Ø³ÙˆØ¯Ø§Ù†ÙŠ, Vira Mall, Ù…ØªØ¬Ø± ÙØ®Ù…">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
        :root { --gold: #D4AF37; --black: #000000; --dark-card: #111111; }

        body { 
            margin: 0; background: var(--black); color: white; 
            font-family: 'Cairo', sans-serif; padding-bottom: 90px; overflow-x: hidden;
        }

        /* Ù‡ÙŠØ¯Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
        header { 
            padding: 15px; text-align: center; background: #000;
            border-bottom: 1px solid #222; position: sticky; top: 0; z-index: 1000;
            display: flex; justify-content: space-between; align-items: center;
        }
        .logo-img { width: 90px; filter: drop-shadow(0 0 5px var(--gold)); margin: 0 auto; }
        .menu-icon { font-size: 28px; color: var(--gold); cursor: pointer; padding: 0 15px; }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (Ø§Ù„Ù…Ù†ÙŠÙˆ) */
        .sidebar {
            position: fixed; top: 0; right: -100%; width: 80%; height: 100%;
            background: #0d0d0d; transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 2000; padding: 40px 20px; border-left: 2px solid var(--gold);
        }
        .sidebar.open { right: 0; }
        .close-btn { color: var(--gold); font-size: 35px; cursor: pointer; }
        .menu-link { 
            color: white; text-decoration: none; display: block;
            padding: 20px 10px; border-bottom: 1px solid #222; font-size: 18px;
        }

        /* Ø¨Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª */
        .currency-nav { display: flex; gap: 10px; overflow-x: auto; padding: 12px; background: #080808; scrollbar-width: none; }
        .currency-nav button { background: none; border: 1px solid #333; color: white; padding: 6px 15px; border-radius: 20px; white-space: nowrap; cursor: pointer; }
        .currency-nav button.active { background: var(--gold); color: black; border-color: var(--gold); font-weight: bold; }

        /* Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø§Ù„ÙØ®Ù…) */
        .main-container { padding: 15px; }
        .product-card { 
            background: var(--dark-card); border-radius: 25px; overflow: hidden;
            margin-bottom: 30px; border: 1px solid #222; box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }
        .product-card img { width: 100%; height: auto; display: block; }
        .p-details { padding: 20px; text-align: center; }
        .p-name { font-size: 22px; font-weight: bold; margin-bottom: 10px; }
        .p-price { font-size: 24px; color: var(--gold); font-weight: bold; }
        .ship-tag { color: #00ff00; font-size: 12px; margin: 10px 0; display: block; }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
        .add-btn {
            background: var(--gold); color: black; width: 100%; padding: 15px;
            border-radius: 15px; font-weight: bold; border: none; font-size: 16px; cursor: pointer;
        }

        /* Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªØ§Ø¬Ø± (Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù†ÙŠÙˆ) */
        .merchant-box {
            background: #1a1a1a; padding: 20px; border-radius: 15px;
            border: 1px dashed var(--gold); margin-top: 30px; text-align: center;
        }
    </style>
</head>
<body>

<header>
    <div style="width: 50px;"></div>
    <img src="https://raw.githubusercontent.com/71-wq/71-wq.github.io/main/vira_logo.png" class="logo-img">
    <div class="menu-icon" onclick="toggleMenu()">â˜°</div>
</header>

<div id="sidebar" class="sidebar">
    <span class="close-btn" onclick="toggleMenu()">Ã—</span>
    <div style="margin-top: 40px;">
        <a href="#" class="menu-link">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        <a href="#" class="menu-link">ğŸ›’ Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø°ÙƒÙŠØ©</a>
        <a href="#" class="menu-link">â¤ï¸ Ø§Ù„Ù…ÙØ¶Ù„Ø©</a>
        
        <div class="merchant-box">
            <div style="color:var(--gold); font-weight:bold;">ğŸ‘‘ Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªØ§Ø¬Ø±Ø§Øª</div>
            <p style="font-size:12px;">Ø­Ø³Ø§Ø¨ Ø¨Ù†ÙƒÙƒ: 2280384</p>
            <a href="https://wa.me/249967584275" style="color:var(--gold); text-decoration:none; font-weight:bold;">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥ÙŠØµØ§Ù„ ğŸ“±</a>
        </div>
    </div>
</div>

<div class="currency-nav">
    <button class="active" onclick="update(1, 'SDG', this)">Ø§Ù„Ø³ÙˆØ¯Ø§Ù† ğŸ‡¸ğŸ‡©</button>
    <button onclick="update(0.0022, 'SAR', this)">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ğŸ‡¸ğŸ‡¦</button>
    <button onclick="update(0.082, 'EGP', this)">Ù…ØµØ± ğŸ‡ªğŸ‡¬</button>
    <button onclick="update(0.0021, 'QAR', this)">Ù‚Ø·Ø± ğŸ‡¶ğŸ‡¦</button>
</div>

<div class="main-container" id="plist">
    </div>

<script>
    let rate = 1; let sym = 'SDG';
    const API = 'https://docs.google.com/spreadsheets/d/1UZnlp45dVMRJxNibcg3fm52H6S4DB4YbGLr4KK3jPqs/gviz/tq?tqx=out:json';

    async function load() {
        try {
            const res = await fetch(API);
            const text = await res.text();
            const data = JSON.parse(text.substr(47).slice(0, -2));
            const rows = data.table.rows;
            let h = '';
            rows.forEach(r => {
                const name = r.c[0]?.v;
                if(!name || typeof name !== 'string' || name.includes('Date')) return;
                const p = typeof r.c[1]?.v === 'number' ? r.c[1].v : 0;
                const img = r.c[3]?.v || '';
                h += `
                    <div class="product-card">
                        <img src="${img}">
                        <div class="p-details">
                            <div class="p-name">${name}</div>
                            <div class="p-price">${(p * rate).toLocaleString()} ${sym}</div>
                            <span class="ship-tag">ğŸšš Ø§Ù„ØªÙˆØµÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØ¬Ø±</span>
                            <button class="add-btn" onclick="alert('Ø§ØªØ¶Ø§Ù Ù„Ù„Ø³Ù„Ø© âœ¨')">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© ğŸ›’</button>
                        </div>
                    </div>`;
            });
            document.getElementById('plist').innerHTML = h;
        } catch(e) {}
    }

    function update(r, s, b) {
        rate = r; sym = s;
        document.querySelectorAll('.currency-nav button').forEach(x => x.classList.remove('active'));
        b.classList.add('active'); load();
    }

    function toggleMenu() { document.getElementById('sidebar').classList.toggle('open'); }

    // Ø­Ø±ÙƒØ§Øª Ù‚ÙˆÙ‚Ù„ ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js').catch(()=>{});
    }

    window.onload = load;
</script>

</body>
</html>
