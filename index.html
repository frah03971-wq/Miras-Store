<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VIRA MALL | ÙÙŠØ±Ø§ Ù…ÙˆÙ„</title>
<style>
:root{ --gold:#D4AF37; --dark:#0f1111; --gray:#f5f5f7; --white:#ffffff; }
body{margin:0; font-family:'Segoe UI', Tahoma, sans-serif; background:var(--gray); direction:rtl;}
header{background:var(--dark); color:white; padding:25px 15px; text-align:center; position:relative; border-bottom:3px solid var(--gold);}
header h1{margin:0; font-size:30px; color:var(--gold); text-shadow: 2px 2px 4px rgba(0,0,0,0.3);}
header p.slogan{margin:10px 0 0; font-size:15px; letter-spacing:1px;}

/* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
.menu-btn { position: absolute; top: 25px; right: 20px; font-size: 26px; color: var(--gold); cursor: pointer; }
.sidebar { height: 100%; width: 0; position: fixed; z-index: 10000; top: 0; right: 0; background-color: var(--dark); overflow-x: hidden; transition: 0.4s; padding-top: 60px; box-shadow: -5px 0 15px rgba(0,0,0,0.5); }
.sidebar p { padding: 15px 25px; color: white; border-bottom: 1px solid #333; margin: 0; }
.sidebar .closebtn { position: absolute; top: 10px; left: 25px; font-size: 36px; color: var(--gold); text-decoration: none; }

.container{padding:20px; display:grid; grid-template-columns:repeat(auto-fill,minmax(170px,1fr)); gap:20px; max-width:1200px; margin:0 auto;}
.card{background:var(--white); border-radius:20px; overflow:hidden; box-shadow:0 6px 18px rgba(0,0,0,.06); transition:.3s; display:flex; flex-direction:column; border:1px solid #eee;}
.card:hover{transform:translateY(-8px); box-shadow:0 10px 25px rgba(0,0,0,0.12);}
.card img{width:100%; height:200px; object-fit:cover; cursor:pointer;}
.info{padding:15px; text-align:center; flex-grow:1;}
.store{font-size:10px; color:var(--gold); font-weight:bold; margin-bottom:5px;}
.title{font-size:15px; font-weight:bold; color:var(--dark); margin:5px 0; height:40px;}
.price{font-size:18px; font-weight:800; color:#222; margin-bottom:12px;}
.btn{background:var(--dark); color:var(--gold); border:1px solid var(--gold); width:100%; padding:12px; border-radius:12px; cursor:pointer; font-weight:bold; transition:0.3s;}
.btn:hover{background:var(--gold); color:var(--dark);}

#viewer{display:none; position:fixed; inset:0; background:rgba(0,0,0,0.9); z-index:99999; align-items:center; justify-content:center;}
#viewer img{max-width:95%; max-height:85%; border-radius:10px; border:2px solid var(--gold);}
</style>
</head>
<body>

<header>
  <div class="menu-btn" onclick="openNav()">â˜°</div>
  <h1>VIRA MALL</h1>
  <p class="slogan">Ø®ÙŠØ§Ø±Ùƒ Ø§Ù„Ø£ÙˆÙ„ ÙÙŠ Ø§Ù„Ø³ÙˆØ¯Ø§Ù† ğŸ‡¸ğŸ‡©</p>
</header>

<div id="mySidebar" class="sidebar">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">Ã—</a>
  <p style="color:var(--gold); font-weight:bold;">ğŸ’³ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹</p>
  <p>Ø±Ù‚Ù… Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ§Ø¬Ø±Ø§Øª: <br><strong style="font-size:20px; color:var(--gold)">2280384</strong></p>
  <p style="color:var(--gold); font-weight:bold;">ğŸšš Ø§Ù„ØªÙˆØµÙŠÙ„</p>
  <p>ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³Ø¹Ø± Ø­Ø³Ø¨ Ø§Ù„Ù…ØªØ¬Ø±.</p>
</div>

<div class="container" id="grid"></div>

<div id="viewer" onclick="this.style.display='none'">
  <img id="viewerImg">
</div>

<script>
const SHEET_URL='https://docs.google.com/spreadsheets/d/e/2PACX-1vTWD0ZQAKe2KRwLQnNjh2t7Z2Y_BKXxaKZxZwKSXUaZLQ3eeLB1fwj6vNllpNwXCtd9aY9Q_tuuFXXV/pub?gid=0&single=true&output=csv';

function openNav() { document.getElementById("mySidebar").style.width = "260px"; }
function closeNav() { document.getElementById("mySidebar").style.width = "0"; }

async function loadProducts(){
  const res = await fetch(SHEET_URL);
  const text = await res.text();
  const rows = text.split(/\r?\n/).slice(1);
  const products = rows.map(r=>{
    const c = r.split(/,(?=(?:[^"]*"[^"]*")*[^"]*$)/).map(x=>x.replace(/"/g,'').trim());
    return {name:c[0], price:c[1], store:c[2], img:c[3], whatsapp:c[4]};
  }).filter(p=>p.name && p.img);
  
  document.getElementById('grid').innerHTML = products.map(p=>`
    <div class="card">
      <img src="${p.img}" onclick="openImg('${p.img}')" onerror="this.src='https://via.placeholder.com/200'">
      <div class="info">
        <div class="store">âœ¨ ${p.store}</div>
        <div class="title">${p.name}</div>
        <div class="price">${p.price} SDG</div>
        <button class="btn" onclick="order('${p.whatsapp}','${p.name}')">Ø§Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
      </div>
    </div>
  `).join('');
}

function openImg(src){ document.getElementById('viewerImg').src=src; document.getElementById('viewer').style.display='flex'; }
function order(num,name){ window.open(`https://wa.me/${num}?text=${encodeURIComponent('Ø³Ù„Ø§Ù…Ø§Øª ÙÙŠØ±Ø§ Ù…ÙˆÙ„ØŒ Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨: '+name)}`,'_blank'); }
loadProducts();
</script>
</body>
</html>
