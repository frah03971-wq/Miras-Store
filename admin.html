<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªØ§Ø¬Ø±Ø§Øª | VIRA MALL</title>
    <style>
        :root { --gold: #D4AF37; --black: #0a0a0a; }
        body { background: var(--black); color: white; font-family: 'Segoe UI', sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; padding: 20px; box-sizing: border-box; }
        .card { background: #1a1a1a; padding: 30px; border-radius: 20px; border: 1px solid var(--gold); width: 100%; max-width: 400px; }
        h2 { color: var(--gold); margin-bottom: 20px; font-size: 22px; text-align: center; }
        label { display: block; text-align: right; font-size: 12px; color: var(--gold); margin-bottom: 5px; opacity: 0.8; }
        input { width: 100%; padding: 12px; margin-bottom: 15px; border-radius: 10px; border: 1px solid #333; background: #222; color: white; box-sizing: border-box; outline: none; text-align: right; }
        .upload-area { background: #222; color: var(--gold); border: 2px dashed var(--gold); padding: 15px; border-radius: 12px; cursor: pointer; margin-bottom: 15px; text-align: center; font-size: 14px; }
        button#mainBtn { background: var(--gold); color: black; width: 100%; padding: 15px; border-radius: 12px; font-weight: bold; border: none; cursor: pointer; font-size: 16px; margin-top: 10px; }
        #loading { display: none; color: #4caf50; font-size: 12px; margin-bottom: 10px; }
    </style>
</head>
<body>

<div class="card">
    <h2>Ø¥Ø¶Ø§ÙØ© Ø¨Ø¶Ø§Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø© âœ¨</h2>
    
    <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</label>
    <input type="text" id="p_name" placeholder="Ù…Ù„Ø§Ø¨Ø³ Ø£Ø·ÙØ§Ù„ Ø°ÙƒÙˆØ±ÙŠØ©">
    
    <label>Ø§Ù„Ø³Ø¹Ø± (Ø¨Ø§Ù„Ø±Ù‚Ù… ÙÙ‚Ø·)</label>
    <input type="number" id="p_price" placeholder="50000">
    
    <label>Ø§Ø³Ù… Ù…ØªØ¬Ø±Ùƒ</label>
    <input type="text" id="p_store" placeholder="Ø¯Ø±ÙŠÙ… Ù„Ø§Ù†Ø¯">

    <label>Ø§Ø±ÙØ¹ÙŠ Ø§Ù„ØµÙˆØ± (ÙˆØ§Ø­Ø¯Ø© Ø¨ÙˆØ§Ø­Ø¯Ø©)</label>
    <input type="file" id="fileInput" style="display: none;" accept="image/*">
    <div class="upload-area" onclick="document.getElementById('fileInput').click()">ğŸ“¸ Ø§Ø¶ØºØ·ÙŠ Ù‡Ù†Ø§ Ù„Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©</div>
    <div id="loading">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø±ÙØ¹.. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± â³</div>
    
    <label>Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ± (ØªØ¸Ù‡Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)</label>
    <input type="text" id="p_imgs" placeholder="Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§" readonly>
    
    <label>Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨Ùƒ (249...)</label>
    <input type="tel" id="p_wa" placeholder="249967584275">

    <button id="mainBtn" onclick="sendToOwner()">ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø¢Ø¯Ù…Ù† âœ…</button>
</div>

<script>
    // Ø§Ø³ØªØ®Ø¯Ù…Øª Ù„ÙŠÙƒÙ Ù…ÙØªØ§Ø­ Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø¬Ø¯ÙŠØ¯ Ø¹Ø´Ø§Ù† Ø§Ù„ÙØ´Ù„ Ù…Ø§ ÙŠØªÙƒØ±Ø±
    const API_KEY = '74a87e5b15d04588046a78280629532d'; 

    document.getElementById('fileInput').onchange = async function(e) {
        const file = e.target.files[0];
        if (!file) return;

        const loading = document.getElementById('loading');
        loading.style.display = 'block';
        loading.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø±ÙØ¹.. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± â³";

        const formData = new FormData();
        formData.append('image', file);

        try {
            const response = await fetch(`https://api.imgbb.com/1/upload?key=${API_KEY}`, {
                method: 'POST',
                body: formData
            });
            const result = await response.json();
            
            if(result.success) {
                const imgInput = document.getElementById('p_imgs');
                const url = result.data.url;
                imgInput.value = imgInput.value ? imgInput.value + " " + url : url;
                loading.innerText = "âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ±Ø©!";
            } else {
                loading.innerText = "âŒ ÙØ´Ù„ Ø§Ù„Ø±ÙØ¹ØŒ Ø¬Ø±Ø¨ÙŠ ØµÙˆØ±Ø© Ø£Ø®Ø±Ù‰ Ø£Ùˆ Ø¥Ù†ØªØ±Ù†Øª Ø£Ù‚ÙˆÙ‰.";
            }
        } catch (error) {
            loading.innerText = "âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©.";
        }
    };

    function sendToOwner() {
        const name = document.getElementById('p_name').value;
        const price = document.getElementById('p_price').value;
        const store = document.getElementById('p_store').value;
        const imgs = document.getElementById('p_imgs').value;
        const wa = document.getElementById('p_wa').value;

        if(!name || !price || !imgs) {
            alert("ÙŠØ§ Ø³Ù…Ø­Ø©ØŒ ÙƒÙ…Ù„ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ø±ÙØ¹ÙŠ Ø§Ù„ØµÙˆØ± Ø£ÙˆÙ„Ø§Ù‹! â¤ï¸");
            return;
        }

        const MY_NUMBER = "249967584275"; 
        const tableRow = `${name},${price},${store},${imgs},${wa}`;
        const message = `Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¢Ø¯Ù…Ù† VIRA MALL âœ¨%0AØ£Ø±ÙŠØ¯ Ù†Ø´Ø± Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯:%0A%0AğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬: ${name}%0AğŸ’° Ø§Ù„Ø³Ø¹Ø±: ${price}%0AğŸª Ø§Ù„Ù…ØªØ¬Ø±: ${store}%0AğŸ“ ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„ØªØ§Ø¬Ø±Ø©: ${wa}%0A%0AğŸ“‹ Ø³Ø·Ø± Ø§Ù„Ø¬Ø¯ÙˆÙ„:%0A${tableRow}`;

        window.open(`https://wa.me/${MY_NUMBER}?text=${message}`, '_blank');
    }
</script>
</body>
</html>
