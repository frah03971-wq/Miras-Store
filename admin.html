<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªØ§Ø¬Ø±Ø§Øª | VIRA MALL</title>
    <style>
        :root { --gold: #D4AF37; --black: #0a0a0a; }
        body { background: var(--black); color: white; font-family: 'Segoe UI', sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; padding: 20px; box-sizing: border-box; }
        .card { background: #1a1a1a; padding: 30px; border-radius: 20px; border: 1px solid var(--gold); width: 100%; max-width: 400px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        h2 { color: var(--gold); margin-bottom: 20px; font-size: 22px; text-align: center; }
        label { display: block; text-align: right; font-size: 12px; color: var(--gold); margin-bottom: 5px; opacity: 0.8; }
        input { width: 100%; padding: 12px; margin-bottom: 15px; border-radius: 10px; border: 1px solid #333; background: #222; color: white; box-sizing: border-box; outline: none; transition: 0.3s; text-align: right; }
        .upload-btn { background: #333; color: var(--gold); border: 1px dashed var(--gold); padding: 10px; border-radius: 10px; cursor: pointer; margin-bottom: 15px; display: block; font-size: 13px; }
        button#mainBtn { background: var(--gold); color: black; width: 100%; padding: 15px; border-radius: 12px; font-weight: bold; border: none; cursor: pointer; font-size: 16px; transition: 0.3s; margin-top: 10px; }
        #status { font-size: 11px; color: #4caf50; margin-bottom: 10px; display: none; }
    </style>
</head>
<body>

<div class="card">
    <h2>Ø¥Ø¶Ø§ÙØ© Ø¨Ø¶Ø§Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø© âœ¨</h2>
    
    <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</label>
    <input type="text" id="p_name" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø·Ù‚Ù… ÙØ§Ø®Ø±">
    
    <label>Ø§Ù„Ø³Ø¹Ø± (Ø¨Ø§Ù„Ø±Ù‚Ù… ÙÙ‚Ø·)</label>
    <input type="number" id="p_price" placeholder="Ù…Ø«Ù„Ø§Ù‹: 45000">
    
    <label>Ø§Ø³Ù… Ù…ØªØ¬Ø±Ùƒ</label>
    <input type="text" id="p_store" placeholder="Ø§Ø³Ù… Ù…ØªØ¬Ø±Ùƒ">

    <label>Ø§Ø±ÙØ¹ÙŠ ØµÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† ØªÙ„ÙÙˆÙ†Ùƒ (ÙˆØ§Ø­Ø¯Ø© Ø¨ÙˆØ§Ø­Ø¯Ø©)</label>
    <input type="file" id="fileInput" style="display: none;" accept="image/*">
    <div class="upload-btn" onclick="document.getElementById('fileInput').click()">ğŸ“¸ Ø§Ø¶ØºØ·ÙŠ Ù‡Ù†Ø§ Ù„Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©</div>
    <div id="status">Ø¬Ø§Ø±ÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©... â³</div>
    
    <label>Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ± (Ø¨ØªÙ†Ø²Ù„ Ù‡Ù†Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)</label>
    <input type="text" id="p_imgs" placeholder="Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø­ ØªØ¸Ù‡Ø± Ù‡Ù†Ø§" readonly>
    
    <label>Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨Ùƒ (249...)</label>
    <input type="tel" id="p_wa" placeholder="249...">

    <button id="mainBtn" onclick="sendToOwner()">ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø¢Ø¯Ù…Ù† âœ…</button>
</div>

<script>
    // Ø§Ù„Ø³Ø± Ù‡Ù†Ø§: Ù…ÙØªØ§Ø­ Ø§Ù„Ø±ÙØ¹ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ
    const IMG_BB_API = '74a87e5b15d04588046a78280629532d'; 

    document.getElementById('fileInput').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;

        const status = document.getElementById('status');
        status.style.display = 'block';
        status.innerText = "Ø¬Ø§Ø±ÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©... â³";

        const formData = new FormData();
        formData.append('image', file);

        fetch(`https://api.imgbb.com/1/upload?key=${IMG_BB_API}`, {
            method: 'POST',
            body: formData
        })
        .then(res => res.json())
        .then(data => {
            if(data.success) {
                const currentImgs = document.getElementById('p_imgs').value;
                const newUrl = data.data.url;
                document.getElementById('p_imgs').value = currentImgs ? currentImgs + " " + newUrl : newUrl;
                status.innerText = "âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­!";
            } else {
                status.innerText = "âŒ ÙØ´Ù„ Ø§Ù„Ø±ÙØ¹ØŒ Ø¬Ø±Ø¨ÙŠ ØªØ§Ù†ÙŠ.";
            }
        })
        .catch(() => status.innerText = "âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„.");
    });

    function sendToOwner() {
        const name = document.getElementById('p_name').value;
        const price = document.getElementById('p_price').value;
        const store = document.getElementById('p_store').value;
        const imgs = document.getElementById('p_imgs').value;
        const wa = document.getElementById('p_wa').value;

        if(!name || !price || !imgs) {
            alert("ÙŠØ§ Ø³Ù…Ø­Ø©ØŒ ÙƒÙ…Ù„ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ø±ÙØ¹ÙŠ Ø§Ù„ØµÙˆØ± Ø£ÙˆÙ„Ø§Ù‹! â¤ï¸");
            return;
        }

        const MY_NUMBER = "249967584275"; 
        const tableRow = `${name},${price},${store},${imgs},${wa}`;
        const message = `Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¢Ø¯Ù…Ù† VIRA MALL âœ¨%0AØ£Ø±ÙŠØ¯ Ù†Ø´Ø± Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯:%0A%0AğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬: ${name}%0AğŸ’° Ø§Ù„Ø³Ø¹Ø±: ${price}%0AğŸª Ø§Ù„Ù…ØªØ¬Ø±: ${store}%0AğŸ“ ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„ØªØ§Ø¬Ø±Ø©: ${wa}%0A%0AğŸ“‹ Ø³Ø·Ø± Ø§Ù„Ø¬Ø¯ÙˆÙ„:%0A${tableRow}`;

        window.open(`https://wa.me/${MY_NUMBER}?text=${message}`, '_blank');
    }
</script>
</body>
</html>
