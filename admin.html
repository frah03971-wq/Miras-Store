<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VIRA MALL | Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„ØªØ§Ø¬Ø±</title>
<style>
:root{ --gold:#D4AF37; --dark:#0f1111; --gray:#f0f2f5; --white:#fff; }
body{margin:0; font-family:'Segoe UI', Tahoma, sans-serif; background:var(--gray); direction:rtl;}

/* Ù‡ÙŠØ¯Ø± Ø§Ù„Ù„ÙˆØ­Ø© */
header{background:var(--dark); color:var(--gold); padding:20px; text-align:center; border-bottom:4px solid var(--gold); box-shadow:0 4px 10px rgba(0,0,0,0.1);}
header h2{margin:0; font-size:24px; letter-spacing:1px;}

.container{max-width:600px; margin:30px auto; padding:20px; background:var(--white); border-radius:20px; box-shadow:0 10px 30px rgba(0,0,0,0.05);}
input, textarea, button{width:100%; padding:12px; margin:10px 0; border-radius:10px; border:1px solid #ddd; font-size:14px; box-sizing:border-box; outline:none;}
input:focus{border-color:var(--gold);}
button{background:var(--dark); color:var(--gold); border:2px solid var(--gold); font-weight:bold; cursor:pointer; transition:0.3s; font-size:16px;}
button:hover{background:var(--gold); color:var(--dark);}

.hidden{display:none;}
.user-bar{display:flex; justify-content:space-between; align-items:center; background:#f9f9f9; padding:10px 15px; border-radius:10px; margin-bottom:20px; border-right:5px solid var(--gold);}

/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© */
.table-wrapper{overflow-x:auto; margin-top:20px;}
table{width:100%; border-collapse:collapse; background:white; font-size:13px;}
table th, table td{padding:12px; border:1px solid #eee; text-align:center;}
table th{background:var(--gold); color:var(--dark);}

.btn-copy-single{background:#28a745; border:none; color:white; padding:6px 10px; border-radius:6px; cursor:pointer;}
.btn-logout{background:#e41e31; border:none; color:white; padding:5px 15px; font-size:12px; border-radius:8px;}
</style>
</head>
<body>

<header>
  <h2>VIRA MALL | Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªØ§Ø¬Ø±Ø© âœ¨</h2>
</header>

<div class="container" id="authBox">
  <h3 style="text-align:center;">ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ / Ø¯Ø®ÙˆÙ„</h3>
  <input type="text" id="uName" placeholder="Ø§Ø³Ù…Ùƒ (Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)">
  <input type="text" id="sName" placeholder="Ø§Ø³Ù… Ù…ØªØ¬Ø±Ùƒ (Ù…Ø«Ù„Ø§Ù‹: Ø¨ÙˆØªÙŠÙƒ Ø§Ù„Ø£Ù†Ø§Ù‚Ø©)">
  <input type="password" id="uPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
  <button onclick="login()">Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø© âœ¨</button>
</div>

<div class="container hidden" id="adminBox">
  <div class="user-bar">
    <div>Ù…Ø±Ø­Ø¨Ø§Ù‹: <strong id="userDisp"></strong></div>
    <button class="btn-logout" onclick="logout()">Ø®Ø±ÙˆØ¬</button>
  </div>

  <h3 style="text-align:center;">Ø¥Ø¶Ø§ÙØ© Ø¨Ø¶Ø§Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
  <input type="text" id="pTitle" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
  <input type="number" id="pPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø±Ù‚Ù… ÙÙ‚Ø· (SDG)">
  <input type="text" id="pImg" placeholder="Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ± (Ø¶Ø¹ Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† ÙƒÙ„ Ø±Ø§Ø¨Ø· ÙˆØ±Ø§Ø¨Ø·)">
  <input type="text" id="pWa" placeholder="Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Ù…Ø«Ù„Ø§Ù‹: 2499...)">
  <input type="text" id="pSale" placeholder="ØªØ®ÙÙŠØ¶ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
  
  <button style="background:var(--gold); color:var(--dark);" onclick="addToPreview()">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© â•</button>

  <div class="table-wrapper">
    <table id="prevTable">
      <thead>
        <tr>
          <th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>
  </div>

  <button style="background:#0f1111; margin-top:20px;" onclick="copyAll()">Ù†Ø³Ø® Ø§Ù„ÙƒÙ„ Ù„Ø¬Ø¯ÙˆÙ„ Ù‚ÙˆÙ‚Ù„ ğŸ“‹</button>
  <p style="font-size:11px; color:#888; text-align:center;">Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ©ØŒ Ø§Ø¶ØºØ·ÙŠ Ù†Ø³Ø® ÙˆØ§Ù†ØªÙ‚Ù„ÙŠ Ù„Ø¬Ø¯ÙˆÙ„ Ù‚ÙˆÙ‚Ù„ ÙˆØ§Ø¹Ù…Ù„ÙŠ Ù„ØµÙ‚ (Paste).</p>
</div>

<script>
let items = [];

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
function login() {
  const u = document.getElementById('uName').value;
  const s = document.getElementById('sName').value;
  const p = document.getElementById('uPass').value;
  if(!u || !s || !p) return alert("ÙŠØ§ ØºØ§Ù„ÙŠØ©ØŒ Ø£ÙƒÙ…Ù„ÙŠ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ!");

  const user = { username: u, store: s };
  localStorage.setItem('vira_user', JSON.stringify(user));
  showUI();
}

function showUI() {
  const user = JSON.parse(localStorage.getItem('vira_user'));
  if(user) {
    document.getElementById('authBox').classList.add('hidden');
    document.getElementById('adminBox').classList.remove('hidden');
    document.getElementById('userDisp').innerText = user.username;
  }
}

function logout() {
  localStorage.removeItem('vira_user');
  location.reload();
}

if(localStorage.getItem('vira_user')) showUI();

// Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
function addToPreview() {
  const title = document.getElementById('pTitle').value;
  const price = document.getElementById('pPrice').value;
  const img = document.getElementById('pImg').value;
  const wa = document.getElementById('pWa').value;
  const sale = document.getElementById('pSale').value;
  const store = JSON.parse(localStorage.getItem('vira_user')).store;

  if(!title || !price || !img || !wa) return alert("Ø¹Ø¨ÙŠ Ø§Ù„Ø®Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©!");

  const item = { title, price, store, img, wa, sale };
  items.push(item);
  render();

  // ØªÙ†Ø¸ÙŠÙ
  ['pTitle','pPrice','pImg','pSale'].forEach(id => document.getElementById(id).value = '');
}

function render() {
  const body = document.getElementById('tableBody');
  body.innerHTML = items.map((item, i) => `
    <tr>
      <td>${item.title}</td>
      <td>${item.price}</td>
      <td><button class="btn-copy-single" onclick="copyRow(${i})">Ù†Ø³Ø®</button></td>
    </tr>
  `).join('');
}

// Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø´ÙŠØª (Ø§Ø³Ù…ØŒ Ø³Ø¹Ø±ØŒ Ù…ØªØ¬Ø±ØŒ ØµÙˆØ±ØŒ ÙˆØ§ØªØ³Ø§Ø¨ØŒ ØªØ®ÙÙŠØ¶)
function copyRow(i) {
  const p = items[i];
  const text = `${p.title}\t${p.price}\t${p.store}\t${p.img}\t${p.wa}\t${p.sale}`;
  doCopy(text);
}

function copyAll() {
  const text = items.map(p => `${p.title}\t${p.price}\t${p.store}\t${p.img}\t${p.wa}\t${p.sale}`).join('\n');
  doCopy(text);
}

function doCopy(text) {
  const area = document.createElement('textarea');
  area.value = text;
  document.body.appendChild(area);
  area.select();
  document.execCommand('copy');
  document.body.removeChild(area);
  alert("ØªÙ… Ø§Ù„Ù†Ø³Ø®! Ø±ÙˆØ­ÙŠ Ù„Ø¬Ø¯ÙˆÙ„ Ù‚ÙˆÙ‚Ù„ ÙˆØ§Ø¹Ù…Ù„ÙŠ Ù„ØµÙ‚ (Paste) âœ¨");
}
</script>

</body>
</html>
